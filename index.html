<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ask Me Anything â€” Atlas Nusantara AI</title>
  <style>
    :root {
      --primary-blue: #60A5FA;
      --secondary-pink: #EC4899;
      --gray-text: #6B7280;
      --bg-white: #ffffff;
      --placeholder-gray: #9CA3AF;
      --tech-blue: #38bdf8;
    }
    html, body { height: 100%; }
    body {
      min-height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 20px;
      background: linear-gradient(135deg, var(--primary-blue), var(--secondary-pink));
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      padding: 20px;
      box-sizing: border-box;
    }
    .robot-head {
      position: relative;
      width: 80px;
      height: 80px;
      background: linear-gradient(145deg, #e0e0e0, #ffffff);
      border-radius: 50%;
      box-shadow:
        0 0 20px rgba(56, 189, 248, 0.6),
        inset 0 0 10px rgba(255, 255, 255, 0.8);
      animation: nod 6s infinite ease-in-out;
      z-index: 10;
    }
    .robot-head::before {
      content: "";
      position: absolute;
      top: 20px;
      left: 15px;
      width: 20px;
      height: 10px;
      background: white;
      border-radius: 50%;
      box-shadow: 25px 0 0 white;
    }
    .glasses {
      position: absolute;
      top: 18px;
      left: 12px;
      width: 56px;
      height: 20px;
      background: white;
      border-radius: 10px;
      border: 2px solid #cbd5e1;
      box-shadow: 0 0 10px rgba(56, 189, 248, 0.7);
    }
    .glasses::before,
    .glasses::after {
      content: "";
      position: absolute;
      top: 5px;
      width: 16px;
      height: 16px;
      background: #e2e8f0;
      border-radius: 50%;
      box-shadow: inset 0 0 8px rgba(56, 189, 248, 0.9);
    }
    .glasses::before { left: 3px; }
    .glasses::after { right: 3px; }
    @keyframes nod {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-4px) rotate(-1deg); }
      50% { transform: translateY(0) rotate(0deg); }
      75% { transform: translateY(-2px) rotate(1deg); }
    }
    .title {
      color: white;
      font-size: 22px;
      font-weight: 700;
      text-align: center;
      max-width: 90%;
      line-height: 1.3;
      text-shadow: 0 1px 2px rgba(0,0,0,0.15);
      margin-top: -18px;
    }
    .ask-box {
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--bg-white);
      border-radius: 50px;
      padding: 12px 18px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
      width: 640px;
      max-width: 98%;
      transition: all 0.25s ease;
    }
    .ask-box:hover { box-shadow: 0 8px 30px rgba(0,0,0,0.18); }
    .ask-box .icon, .generate-btn {
      font-size: 18px;
      color: var(--gray-text);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      transition: background 0.2s;
      user-select: none;
    }
    .ask-box .icon:hover, .generate-btn:hover { background: #f3f4f6; }
    .ask-box input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 15px;
      color: var(--gray-text);
      background: transparent;
      min-width: 0;
    }
    .ask-box input::placeholder { color: var(--placeholder-gray); }
    .send-btn, .tech-btn, .announce-btn {
      background: linear-gradient(90deg, var(--primary-blue), var(--secondary-pink));
      color: white;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      border: none;
    }
    .send-btn:hover, .tech-btn:hover, .announce-btn:hover {
      transform: scale(1.08);
      box-shadow: 0 6px 14px rgba(96, 165, 250, 0.28);
    }
    .response {
      background: white;
      padding: 16px 20px;
      border-radius: 12px;
      max-width: 640px;
      width: 98%;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
      color: #374151;
      font-size: 15px;
      line-height: 1.5;
      text-align: left;
      white-space: pre-wrap;
      min-height: 48px;
    }
    #imageContainer { margin-top: 6px; max-width:640px; width:98%; display:flex; flex-direction:column; gap:8px; align-items:flex-start; }
    #imageContainer img { max-width:100%; height:auto; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.12); }
    #imageContainer p { margin:0; font-size:14px; color:#374151; }
    .hint { color: rgba(255,255,255,0.9); font-size:13px; margin-top:6px; }
    @media (max-width: 560px) {
      .ask-box { padding: 10px 12px; gap:8px; }
      .send-btn, .tech-btn, .announce-btn { width:36px; height:36px; font-size:14px; }
      .robot-head { width:60px; height:60px; }
      .title { font-size:18px; }
    }
  </style>
</head>
<body>
  <div class="robot-head">
    <div class="glasses"></div>
  </div>
  <div class="title">Ask Me Anything â€” Atlas Nusantara AI ğŸ»</div>
  <div class="ask-box" role="group" aria-label="Kotak tanya">
    <button class="generate-btn" id="generateBtn" title="Hasilkan gambar dan deskripsi">ï¼‹</button>
    <button class="announce-btn" id="announceBtn" title="Cari sumber lebih dalam">ğŸ“£</button>
    <span class="icon" aria-hidden="true">ğŸ—ºï¸</span>
    <input type="text" placeholder="Tanyakan sesuatu... (mis. 'apa itu rendang' atau 'jelaskan present tense')" id="userInput" />
    <button class="tech-btn" id="techBtn" title="Cari tentang teknologi">ğŸŒ</button>
    <div class="send-btn" id="sendBtn" title="Kirim pertanyaan">âœˆï¸</div>
  </div>
  <div id="response" class="response" style="display:none;"></div>
  <div id="imageContainer" style="display:none;">
    <img id="generatedImage" src="" alt="Generated Image">
    <p id="imageDescription"></p>
  </div>
  <div class="hint">Tip: coba tanya dengan kata kunci yang ada di knowledge base, contoh: "tari", "tabel periodik", "present tense", "adjective", "teks observasi", "olahraga", "UUD 1945", "SPLDV", "sejarah hindu-budha".</div>
  <script>
    const knowledgeBase = {
      // ============== DATA LAMA (TIDAK DIUBAH) ==============
      // [SEMUA DATA LAMA DARI FILE ANDA DISALIN UTUH DI SINI]
      // (Untuk kejelasan, kami sisipkan kembali utuh seperti file Anda)

      budaya: {
        keywords: ['budaya', 'adat', 'tradisi', 'kesenian', 'tari', 'rumah adat', 'makanan khas', 'seni', 'nusantara'],
        pengertian: "Budaya Nusantara adalah keseluruhan cara hidup masyarakat Indonesia yang mencakup nilai, norma, seni, adat istiadat, dan kepercayaan.",
        tari: ["Tari Saman (Aceh)", "Tari Pendet (Bali)", "Tari Reog Ponorogo (Jawa Timur)", "Tari Tor-Tor (Batak)"],
        rumahAdat: ["Rumah Gadang (Minangkabau)", "Joglo (Jawa)", "Tongkonan (Toraja)", "Honai (Papua)"],
        makanan: ["Rendang (Sumatra Barat)", "Gudeg (Yogyakarta)", "Papeda (Maluku/Papua)", "Soto Banjar (Kalimantan Selatan)"]
      },
      nkri: {
        keywords: ['nkri', 'negara kesatuan', 'indonesia', 'pemerintahan pusat', 'jakarta', 'bentuk negara'],
        pengertian: "Negara Kesatuan Republik Indonesia (NKRI) adalah bentuk negara Indonesia yang bersatu dengan satu pemerintahan pusat.",
        manfaat: ["Menjaga persatuan", "Memudahkan koordinasi pemerintahan", "Memperkuat identitas nasional"],
        contoh: "Semua provinsi di Indonesia berada di bawah satu pemerintahan pusat di Jakarta."
      },
      bhinnekaTunggalIka: {
        keywords: ['bhinneka', 'bhinneka tunggal ika', 'berbeda tetap satu', 'toleransi', 'keberagaman', 'semboyan', 'indonesia'],
        pengertian: "Bhinneka Tunggal Ika berarti 'Berbeda-beda tetapi tetap satu', semboyan resmi Indonesia yang mencerminkan persatuan dalam keberagaman.",
        nilaiPancasila: "Sila ke-2 (Kemanusiaan yang Adil dan Beradab) dan Sila ke-3 (Persatuan Indonesia).",
        manfaat: ["Memperkuat toleransi", "Mencegah konflik SARA", "Membangun kebersamaan"],
        contoh: "Perayaan hari besar agama bersama tanpa membedakan suku dan agama."
      },
      pancasila: {
        keywords: ['pancasila', 'sila', 'dasar negara', 'ideologi', 'lima sila', 'falsafah'],
        pengertian: "Pancasila adalah dasar negara dan ideologi bangsa Indonesia yang terdiri dari lima sila sebagai pedoman kehidupan berbangsa dan bernegara.",
        sila1: "Ketuhanan Yang Maha Esa",
        sila2: "Kemanusiaan yang Adil dan Beradab",
        sila3: "Persatuan Indonesia",
        sila4: "Kerakyatan yang Dipimpin oleh Hikmat Kebijaksanaan dalam Permusyawaratan/Perwakilan",
        sila5: "Keadilan Sosial bagi Seluruh Rakyat Indonesia"
      },
      hikayat: {
        keywords: ['hikayat', 'cerita lama', 'prosa lama', 'sastra melayu klasik'],
        pengertian: "Hikayat adalah karya sastra prosa lama Melayu yang menceritakan kehidupan tokoh bangsawan, pahlawan, atau raja-raja di masa lampau.",
        tujuan: "Menghibur, menyampaikan nilai moral, melestarikan sejarah, dan menanamkan ajaran agama/etika.",
        struktur: "1. Pembukaan (doa/salawat), 2. Isi (alur cerita), 3. Penutup (nasihat/moral).",
        kaidahKebahasaan: "Menggunakan bahasa Melayu klasik, kata arkais (kuno), kalimat pasif, repetisi, metafora, dan hiperbola.",
        contoh: "Hikayat Hang Tuah, Hikayat Si Miskin, Hikayat Abdullah, Hikayat Bayan Budiman."
      },
      laporanHasilObservasi: {
        keywords: ['laporan hasil observasi', 'teks observasi', 'pengamatan', 'objek', 'deskripsi', 'observasi', 'struktur teks observasi', 'kaidah kebahasaan observasi'],
        pengertianObservasi: "Observasi adalah kegiatan mengamati suatu objek, peristiwa, atau gejala secara sistematis, terencana, dan objektif untuk mengumpulkan data faktual.",
        pengertianTeks: "Teks laporan hasil observasi adalah teks yang berisi informasi faktual hasil pengamatan sistematis terhadap suatu objek atau fenomena alam.",
        tujuan: "Memberikan informasi objektif berdasarkan fakta pengamatan tanpa opini pribadi.",
        struktur: {
          "Pernyataan Umum (Definisi/Klasifikasi)": "Memperkenalkan objek secara umum: apa itu, ciri umum, klasifikasi ilmiah (jika ada).",
          "Deskripsi Bagian": "Menggambarkan ciri-ciri objek secara rinci: bentuk, ukuran, warna, perilaku, habitat, fungsi, dll."
        },
        kaidahKebahasaan: {
          "Kata Benda (Nomina)": "Menggunakan istilah teknis atau ilmiah (misal: fotosintesis, metamorfosis, habitat).",
          "Kata Kerja Material": "Kata kerja yang menunjukkan tindakan nyata (misal: mengamati, mencatat, bergerak, tumbuh, berkembang).",
          "Kalimat Definisi": "Menggunakan pola 'A adalah B' atau 'A merupakan B' (misal: Kupu-kupu adalah serangga yang mengalami metamorfosis sempurna).",
          "Kata Sifat (Adjektiva)": "Menggambarkan ciri objek (misal: berwarna cerah, berukuran kecil, bergerak cepat).",
          "Kalimat Pernyataan Faktual": "Bersifat objektif, tidak menggunakan kata-kata subjektif seperti 'menurut saya', 'indah', 'jelek'.",
          "Penggunaan Istilah Ilmiah": "Contoh: vertebrata, invertebrata, herbivora, karnivora, autotrof."
        },
        contoh: "Laporan pengamatan kupu-kupu: siklus hidup (telur â†’ larva â†’ pupa â†’ imago), warna sayap, habitat (taman, hutan), cara makan (menghisap nektar), dan peran dalam penyerbukan."
      },
      narrativeText: {
        keywords: ['narrative text', 'cerita naratif', 'english story', 'orientation complication resolution'],
        pengertian: "Narrative text is a genre of writing that tells a story about past events to entertain readers.",
        orientation: "Introduces characters, setting, and time. Example: 'Once upon a time, there lived a kind princess in a castle.'",
        complication: "The main problem or conflict arises. Example: 'One day, an evil witch cursed the princess to sleep forever.'",
        resolution: "The problem is solved. Example: 'A brave prince kissed her, and the curse was broken.'",
        ciriKebahasaanInggris: "Uses past tense, action verbs, time connectives (once, then, finally), and direct/indirect speech.",
        contoh: "Cinderella, Snow White, The Legend of Malin Kundang (adapted)."
      },
      teknologi: {
        keywords: ['teknologi', 'perangkat keras', 'hardware', 'perangkat lunak', 'software', 'aplikasi', 'gadget', 'komputer', 'hp'],
        pengertian: "Menurut KBBI, teknologi adalah metode ilmiah untuk mencapai tujuan praktis; ilmu pengetahuan terapan yang digunakan untuk memudahkan interaksi dan aktivitas manusia, termasuk dalam bermedia sosial.",
        perangkatKeras: ["Handphone (HP)", "Komputer", "Laptop", "Tablet", "Server", "Printer", "Router"],
        perangkatLunak: ["Aplikasi berhitung (kalkulator)", "Aplikasi pembayaran (GoPay, OVO, DANA)", "Sistem operasi (Windows, Android, iOS)", "Browser (Chrome, Firefox)", "Aplikasi media sosial (Instagram, WhatsApp, TikTok)"],
        manfaat: ["Mempermudah komunikasi", "Mempercepat akses informasi", "Meningkatkan efisiensi kerja", "Mendukung pembelajaran jarak jauh"]
      },
      majas: {
        keywords: ['majas', 'gaya bahasa', 'personifikasi', 'metafora', 'ironi', 'hiperbola'],
        pengertian: "Majas atau gaya bahasa adalah penggunaan kata-kata secara kiasan untuk menciptakan efek tertentu dalam karya sastra.",
        personifikasi: {
          pengertian: "Memberikan sifat manusia pada benda mati atau konsep abstrak.",
          contoh: "Angin berbisik pelan di telingaku."
        },
        metafora: {
          pengertian: "Perbandingan langsung tanpa kata pembanding (seperti, bagai).",
          contoh: "Dunia adalah panggung sandiwara."
        },
        ironi: {
          pengertian: "Mengatakan sesuatu yang bertentangan dengan maksud sebenarnya untuk menyindir.",
          contoh: "Wah, hebat sekali kamu sampai lupa ulang tahun ibumu!"
        },
        hiperbola: {
          pengertian: "Pengungkapan berlebihan untuk menekankan sesuatu.",
          contoh: "Aku sudah menunggumu berabad-abad!"
        }
      },
      keuangan: {
        keywords: ['keuangan', 'bank', 'non bank', 'lembaga keuangan', 'akuntansi', 'laporan keuangan', 'uang', 'investasi'],
        pengertian: "Keuangan adalah segala aktivitas yang berkaitan dengan pengelolaan uang, termasuk investasi, pinjaman, dan penganggaran.",
        perbankan: {
          pengertian: "Lembaga keuangan yang menghimpun dana dari masyarakat (simpanan) dan menyalurkannya kembali (kredit).",
          jenis: ["Bank Umum (BCA, BRI, Mandiri)", "Bank Perkreditan Rakyat (BPR)"],
          fungsi: ["Menciptakan uang giral", "Menyalurkan kredit", "Menyediakan jasa lalu lintas pembayaran"]
        },
        nonBank: {
          pengertian: "Lembaga keuangan yang tidak menghimpun dana dalam bentuk simpanan.",
          contoh: ["OJK", "Asuransi (Jiwasraya, Prudential)", "Dana Pensiun", "Perusahaan Efek", "Fintech (Pinjaman online)"]
        },
        akuntansi: {
          pengertian: "Proses pencatatan, penggolongan, peringkasan, dan pelaporan transaksi keuangan.",
          laporanKeuangan: ["Neraca", "Laporan Laba Rugi", "Arus Kas", "Perubahan Ekuitas"],
          prinsip: ["Relevansi", "Keandalan", "Konsistensi", "Daya Banding"]
        },
        istilahKeuangan: {
          likuiditas: "Kemampuan perusahaan membayar kewajiban jangka pendek.",
          solvabilitas: "Kemampuan membayar seluruh kewajiban (jangka panjang & pendek).",
          ROI: "Return on Investment â€” ukuran keuntungan relatif terhadap investasi.",
          inflasi: "Kenaikan harga barang/jasa secara umum dalam periode tertentu."
        }
      },
      englishTenses: {
        keywords: ['present tense', 'past tense', 'simple present', 'simple past', 'rumus present', 'rumus past', 'tenses inggris', 'regular verb', 'irregular verb', 'kata kerja'],
        pengertian: "Tenses adalah bentuk kata kerja (verb) yang menunjukkan waktu terjadinya suatu peristiwa: masa kini (present), lampau (past), atau akan datang (future).",
        presentTense: {
          pengertian: "Digunakan untuk kebiasaan, fakta umum, atau kejadian rutin.",
          rumus: {
            positif: "S + V1 (s/es) + O/C\nContoh: She plays violin every day.",
            negatif: "S + do/does + not + V1 + O/C\nContoh: They do not like spicy food.",
            tanya: "Do/Does + S + V1 + O/C?\nContoh: Do you study English?"
          },
          catatan: "Tambahkan -s/-es pada verb jika subjek: he, she, it."
        },
        pastTense: {
          pengertian: "Digunakan untuk kejadian yang sudah selesai di masa lampau.",
          rumus: {
            positif: "S + V2 + O/C\nContoh: I watched a movie yesterday.",
            negatif: "S + did + not + V1 + O/C\nContoh: She did not go to school.",
            tanya: "Did + S + V1 + O/C?\nContoh: Did they visit Bali last year?"
          }
        },
        regularVerbs: {
          pengertian: "Kata kerja beraturan: bentuk kedua & ketiga dibuat dengan menambahkan -ed.",
          contoh: [
            "play â€“ played â€“ played",
            "watch â€“ watched â€“ watched",
            "clean â€“ cleaned â€“ cleaned",
            "study â€“ studied â€“ studied"
          ]
        },
        irregularVerbs: {
          pengertian: "Kata kerja tidak beraturan: bentuk kedua & ketiga tidak mengikuti pola -ed.",
          contohLengkap: [
            "go â€“ went â€“ gone",
            "eat â€“ ate â€“ eaten",
            "see â€“ saw â€“ seen",
            "take â€“ took â€“ taken",
            "write â€“ wrote â€“ written",
            "sing â€“ sang â€“ sung",
            "drink â€“ drank â€“ drunk",
            "break â€“ broke â€“ broken",
            "do â€“ did â€“ done",
            "have â€“ had â€“ had"
          ]
        }
      },
      narrativeStructure: {
        keywords: ['struktur narrative text', 'orientation complication resolution', 'evaluation coda', 'bagian cerita naratif', 'coda', 'evaluation'],
        pengertian: "Struktur teks naratif terdiri dari lima bagian utama yang membentuk alur cerita yang utuh.",
        orientation: "Memperkenalkan tokoh, latar (tempat & waktu), dan suasana awal.\nContoh: Once upon a time, there was a kind girl named Cinderella.",
        complication: "Munculnya konflik atau masalah dalam cerita.\nContoh: Her stepmother forbade her from attending the royal ball.",
        resolution: "Pemecahan masalah atau penyelesaian konflik.\nContoh: With the help of her fairy godmother, she went to the ball and met the prince.",
        evaluation: "Penilaian terhadap peristiwa atau pelajaran moral (opsional, sering menyatu dengan resolution).",
        coda: "Kesimpulan atau akhir cerita yang menunjukkan perubahan kondisi tokoh.\nContoh: They lived happily ever after."
      },
      tabelPeriodik: {
        keywords: ['tabel periodik', 'unsur kimia', 'simbol unsur', 'unsur', 'campuran kimia', 'rumus kimia', 'H2O', 'NaCl', 'CO2'],
        pengertian: "Tabel periodik adalah susunan unsur-unsur kimia yang diatur berdasarkan kenaikan nomor atom dan kemiripan sifat kimianya.",
        simbolUnsur: "Setiap unsur memiliki simbol unik, contoh: H (Hidrogen), O (Oksigen), Fe (Besi), Na (Natrium), Cl (Klorin).",
        campuranUmum: [
          "Air (Hâ‚‚O) â€” gabungan hidrogen dan oksigen",
          "Garam dapur (NaCl) â€” natrium + klorin",
          "Karbon dioksida (COâ‚‚) â€” karbon + oksigen",
          "Amonia (NHâ‚ƒ) â€” nitrogen + hidrogen"
        ],
        manfaat: [
          "Memprediksi sifat dan reaktivitas unsur",
          "Dasar pengembangan obat dan material baru",
          "Digunakan di industri logam, energi, dan pertanian",
          "Alat pembelajaran wajib di sekolah"
        ],
        contohUnsur: [
          "Oksigen (Oâ‚‚) â€” untuk bernapas",
          "Besi (Fe) â€” bahan bangunan dan kendaraan",
          "Tembaga (Cu) â€” kabel listrik",
          "Karbon (C) â€” dasar kehidupan dan bahan bakar"
        ]
      },
      perubahanZatDanLingkungan: {
        keywords: ['perubahan fisika', 'perubahan kimia', 'biotik', 'abiotik', 'wujud zat', 'mengembun', 'menyublim', 'menguap', 'membeku', 'mencair', 'deposisi', 'perubahan iklim', 'karbon dioksida'],
        biotikAbiotik: {
          biotik: "Benda hidup yang bisa tumbuh, berkembang biak, dan mati.\nContoh: manusia, hewan, tumbuhan, bakteri.",
          abiotik: "Benda mati yang tidak memiliki ciri makhluk hidup.\nContoh: batu, air, udara, kayu (setelah ditebang), tanah."
        },
        perubahanFisika: {
          pengertian: "Perubahan bentuk atau wujud tanpa menghasilkan zat baru (reversibel).",
          contoh: "Es mencair â†’ air â†’ dibekukan lagi jadi es.",
          ciri: "Tidak ada zat baru, hanya berubah wujud."
        },
        perubahanKimia: {
          pengertian: "Perubahan yang menghasilkan zat baru (ireversibel).",
          contoh: "Kayu dibakar â†’ jadi arang dan asap, susu basi, besi berkarat.",
          ciri: "Terbentuk zat baru, tidak bisa dikembalikan."
        },
        perubahanWujud: {
          mencair: "Padat â†’ cair (es â†’ air)",
          membeku: "Cair â†’ padat (air â†’ es)",
          menguap: "Cair â†’ gas (air â†’ uap)",
          mengembun: "Gas â†’ cair (uap â†’ air)",
          menyublim: "Padat â†’ gas (kapur barus menguap)",
          deposisi: "Gas â†’ padat (uap air â†’ salju)"
        },
        perubahanIklim: {
          pengertian: "Perubahan jangka panjang pola cuaca akibat pemanasan global.",
          penyebab: "Emisi gas rumah kaca (COâ‚‚, metana) dari kendaraan, pabrik, dan deforestasi.",
          dampak: "Es kutub mencair â†’ permukaan laut naik â†’ banjir di wilayah pesisir.",
          solusi: "Gunakan energi terbarukan, tanam pohon, kurangi sampah plastik."
        }
      },
      norma: {
        keywords: ['norma', 'aturan', 'sosial', 'kesopanan', 'agama', 'hukum', 'kebiasaan', 'norma sekolah', 'norma keluarga'],
        pengertian: "Norma adalah aturan atau pedoman yang mengatur perilaku dalam masyarakat.",
        jenis: ["Norma agama", "Norma hukum", "Norma kesopanan", "Norma kebiasaan"],
        contohSehariHari: [
          "Tidak boleh mencuri (norma hukum & agama)",
          "Antri saat beli makanan (norma kesopanan)",
          "Pakai seragam sekolah (norma sekolah)",
          "Bantu orang tua di rumah (norma keluarga)"
        ],
        tempatBerlaku: "Berlaku di rumah, sekolah, tempat ibadah, masyarakat umum, dan negara"
      },
      analisisCerita: {
        keywords: ['latar tempat', 'latar waktu', 'latar suasana', 'tema', 'tokoh', 'penokohan', 'abstraksi', 'orientasi', 'komplikasi', 'evaluasi', 'resolusi', 'koda', 'unsur intrinsik'],
        latarTempat: "Lokasi terjadinya cerita (misal: sekolah, hutan, kota, istana).",
        latarWaktu: "Waktu kejadian cerita (pagi, siang, malam, zaman dahulu, masa depan).",
        latarSuasana: "Suasana emosional dalam cerita (sedih, tegang, bahagia, mencekam, haru).",
        tema: "Gagasan pokok atau pesan utama yang muncul di seluruh cerita (misal: cinta, pengorbanan, keadilan).",
        tokoh: "Pelaku atau karakter dalam cerita (tokoh utama, tokoh antagonis, tokoh pendukung).",
        penokohan: "Cara pengarang menggambarkan sifat tokoh (langsung: 'Si Fulan jujur', tidak langsung: lewat dialog/perilaku).",
        abstraksi: "Gambaran umum atau ringkasan awal cerita (sering muncul di teks eksposisi atau naratif modern).",
        orientasi: "Bagian awal cerita yang memperkenalkan tokoh, latar, dan suasana.",
        komplikasi: "Rangkaian peristiwa yang memunculkan konflik atau masalah.",
        evaluasi: "Penilaian terhadap perkembangan peristiwa atau konflik (opsional, sering menyatu dengan resolusi).",
        resolusi: "Penyelesaian dari konflik atau masalah dalam cerita.",
        koda: "Amanat, pesan moral, atau kesimpulan di akhir cerita (misal: 'Jadilah jujur dalam segala hal.')."
      },
      adjective: {
        keywords: ['adjective', 'adjective bahasa indonesia'],
        pengertian: "Adjective (kata sifat) adalah kata yang memberi keterangan pada kata benda (noun) atau pronoun untuk menjelaskan kualitas, ukuran, warna, dsb.",
        contoh: ["beautiful (cantik)", "big (besar)", "ancient (kuno)", "famous (terkenal)"],
        fungsi: "Menjelaskan sifat atau keadaan benda: quality (good), size (small), age (old), color (red), origin (Indonesian).",
        posisi: "Dalam Bahasa Inggris, adjective umumnya sebelum noun: 'a red car', sedangkan dalam Bahasa Indonesia biasanya setelah noun atau sebelum tergantung struktur: 'rumah besar' atau 'besar rumah' (umum: 'rumah besar')."
      },
      adverb: {
        keywords: ['adverb', 'adverb manner', 'adverb frequency', 'adverb time', 'adverb place'],
        pengertian: "Adverb (kata keterangan) memberi keterangan pada verb, adjective, atau adverb lainnya. Terdapat beberapa tipe: manner, frequency, time, place.",
        manner: {
          pengertian: "Adverb of manner menjelaskan bagaimana suatu tindakan dilakukan.",
          contoh: ["quickly (dengan cepat)", "slowly (dengan pelan)", "carefully (dengan hati-hati)"],
          contohKalimat: ["She sings beautifully. â€” Dia bernyanyi dengan indah.", "He writes neatly."]
        },
        frequency: {
          pengertian: "Adverb of frequency menunjukkan seberapa sering suatu kejadian terjadi.",
          contoh: ["always (selalu)", "often (sering)", "sometimes (kadang-kadang)", "never (tidak pernah)"],
          contohKalimat: ["I always brush my teeth in the morning."]
        },
        time: {
          pengertian: "Adverb of time menunjukkan kapan sesuatu terjadi.",
          contoh: ["yesterday (kemarin)", "today (hari ini)", "tomorrow (besok)", "now (sekarang)"],
          contohKalimat: ["They arrived yesterday."]
        },
        place: {
          pengertian: "Adverb of place menunjukkan lokasi/arah.",
          contoh: ["here (di sini)", "there (di sana)", "everywhere (di mana-mana)"],
          contohKalimat: ["Put it there, please."]
        }
      },
      imperative: {
        keywords: ['imperative'],
        pengertian: "Kalimat imperative memberi perintah, instruksi, atau ajakan. Biasanya subjek (you) dihilangkan dalam bentuk positif.",
        contoh: ["Please sit down. â€” Tolong duduk.", "Don't touch that! â€” Jangan sentuh itu!"],
        bentuk: {
          positif: "Verb dasar + objek (opsional). Contoh: 'Close the door.'",
          negatif: "Do not (don't) + verb. Contoh: 'Don't run in the hall.'",
          sopan: "Gunakan 'please' atau 'could you' untuk lebih sopan. Contoh: 'Please pass the salt.'"
        },
        catatan: "Imperative juga dipakai untuk memberi instruksi pada resep, petunjuk laboratorium, tanda, atau aturan sekolah."
      },
      descriptiveText: {
        keywords: ['descriptive text', 'teks deskripsi'],
        pengertian: "Descriptive text adalah teks yang menggambarkan karakteristik suatu objek, tempat, atau orang dengan rinci.",
        struktur: ["Identification (identifikasi objek)", "Description (deskripsi bagian dan sifat)"],
        kaidahBahasa: ["Kata sifat (adjectives)", "Adverb untuk keterangan tambahan", "Klausa deskriptif"],
        contohPendek: "My grandmother's house is old and charming. It has wooden floors and a garden full of fragrant flowers.",
        contohPanjang: "The Borobudur Temple is an ancient Buddhist monument located on a hill. The stone reliefs are intricate and the structure gives a feeling of grandeur."
      },
      recountText: {
        keywords: ['recount text'],
        pengertian: "Recount text adalah teks yang menceritakan kembali peristiwa masa lalu secara kronologis untuk memberi informasi atau rekaman pengalaman.",
        tujuan: "Untuk menceritakan apa yang terjadi di masa lampau (personal experience, news report, historical events).",
        struktur: ["Orientation (setting and participants)", "Events (sequence of events)", "Re-orientation or personal comment (opsional)"],
        contohPendek: "Yesterday, I visited my uncle. We had lunch and then went for a walk in the park.",
        contohPanjang: "Last summer, our family went to Yogyakarta. First, we visited Prambanan; then we tried batik-making. On the last day, we enjoyed Gudeg before heading home."
      },
      hukum: {
        keywords: ['hukum', 'peraturan', 'undang-undang', 'hak dan kewajiban', 'keadilan'],
        pengertian: "Hukum adalah sistem aturan yang mengatur tingkah laku anggota masyarakat, diciptakan oleh lembaga berwenang, dan memiliki sanksi bagi pelanggar.",
        jenis: ["Hukum pidana", "Hukum perdata", "Hukum tata negara", "Hukum administrasi negara"],
        prinsip: ["Kepastian hukum", "Keadilan", "Kemanfaatan"],
        contohHukum: "Tidak boleh mencuri (KUHP Pasal 362), wajib membayar pajak (UU Perpajakan)."
      },
      uud1945: {
        keywords: ['uud 1945', 'undang-undang dasar', 'konstitusi', 'pembukaan uud', 'pasal uud'],
        pengertian: "UUD 1945 adalah konstitusi atau dasar hukum tertinggi di Indonesia yang ditetapkan pada 18 Agustus 1945.",
        struktur: [
          "Pembukaan (4 alinea)",
          "Batang tubuh (16 bab, 37 pasal + aturan peralihan & tambahan)"
        ],
        pokokPikiran: [
          "Negara melindungi segenap bangsa",
          "Keadilan sosial bagi seluruh rakyat",
          "Kedaulatan berada di tangan rakyat",
          "Negara berdasar atas Ketuhanan YME"
        ],
        perubahan: "Diamandemen 4 kali (1999â€“2002) untuk demokratisasi dan HAM."
      },
      seni: {
        keywords: ['seni', 'karya seni', 'seni rupa', 'seni pertunjukan', 'estetika'],
        pengertian: "Seni adalah ekspresi perasaan, ide, atau nilai budaya melalui media visual, suara, gerak, atau kata yang memiliki nilai estetika.",
        jenis: [
          "Seni rupa (lukisan, patung, grafis)",
          "Seni pertunjukan (tari, teater, musik)",
          "Seni sastra (puisi, cerpen, novel)"
        ],
        fungsi: ["Ekspresi diri", "Hiburan", "Pendidikan", "Ritual/agama"],
        contohIndonesia: ["Lukisan Raden Saleh", "Tari Kecak", "Wayang Kulit"]
      },
      kbbi: {
        keywords: ['kbbi', 'kamus besar bahasa indonesia', 'kamus', 'bahasa indonesia', 'definisi'],
        pengertian: "KBBI (Kamus Besar Bahasa Indonesia) adalah kamus resmi Bahasa Indonesia yang diterbitkan oleh Badan Pengembangan dan Pembinaan Bahasa, Kementerian Pendidikan.",
        fungsi: "Menjadi acuan baku dalam penulisan dan pemaknaan kata Bahasa Indonesia.",
        edisiTerbaru: "KBBI Daring (online) â€“ selalu diperbarui di kbbi.kemdikbud.go.id",
        contohEntri: "Bahasa: sistem lambang bunyi yang arbitrer, yang digunakan oleh anggota suatu masyarakat untuk berkomunikasi."
      },
      teksDeskripsi: {
        keywords: ['teks deskripsi', 'deskripsi', 'mendeskripsikan'],
        pengertian: "Teks deskripsi adalah teks yang bertujuan menggambarkan atau melukiskan secara detail suatu objek, tempat, orang, atau suasana agar pembaca seolah melihat langsung.",
        ciri: [
          "Bersifat objektif atau subjektif",
          "Menggunakan kata sifat (adjective)",
          "Menggambarkan ciri fisik, suasana, atau perasaan"
        ],
        struktur: ["Identifikasi objek", "Deskripsi bagian"],
        contoh: "Gunung Bromo tampak megah dengan kepulan asap tipis dari kawahnya. Udara dingin menusuk kulit, namun pemandangan matahari terbit membuat semuanya terasa berharga."
      },
      anekdot: {
        keywords: ['anekdot', 'cerita lucu', 'humor', 'kisah nyata lucu'],
        pengertian: "Anekdot adalah cerita singkat yang lucu atau menarik berdasarkan kejadian nyata, biasanya melibatkan tokoh terkenal atau situasi ironis.",
        ciri: [
          "Berdasarkan kisah nyata",
          "Mengandung unsur humor atau sindiran halus",
          "Singkat dan padat"
        ],
        struktur: ["Orientasi", "Krisis", "Reaksi", "Koda (akhir lucu)"],
        contoh: "Presiden Soekarno pernah ditanya: 'Pak, bagaimana caranya menjadi pintar?' Jawabnya: 'Baca, baca, dan baca!'"
      },
      karyaTulisIlmiah: {
        keywords: ['karya tulis ilmiah', 'kti', 'penelitian', 'makalah', 'skripsi'],
        pengertian: "Karya tulis ilmiah adalah tulisan hasil penelitian atau kajian sistematis yang disusun berdasarkan metode ilmiah untuk menyajikan pemikiran, temuan, atau solusi masalah.",
        jenis: ["Artikel jurnal", "Makalah", "Skripsi", "Tesis", "Disertasi"],
        struktur: [
          "Judul",
          "Abstrak",
          "Pendahuluan",
          "Kajian pustaka",
          "Metodologi",
          "Hasil & pembahasan",
          "Kesimpulan",
          "Daftar pustaka"
        ],
        ciri: ["Objektif", "Logis", "Menggunakan data", "Bahasa formal", "Ada sitasi"]
      },
      olahraga: {
        keywords: ['olahraga', 'cabang olahraga', 'atlet', 'medali', 'kompetisi', 'sehat', 'sejarah olahraga', 'teknik olahraga', 'renang', 'basket', 'voli', 'sepak bola', 'manfaat olahraga'],
        pengertian: "Olahraga adalah aktivitas fisik yang terencana, sistematis, dan bertujuan untuk meningkatkan kebugaran jasmani, keterampilan motorik, kekuatan, daya tahan, koordinasi, serta menanamkan nilai sportivitas, kerja sama, dan disiplin.",
        sejarah: {
          "Dunia": [
            "Olimpiade Kuno di Yunani (776 SM) â€“ diadakan setiap 4 tahun untuk menghormati dewa Zeus, hanya untuk pria Yunani bebas.",
            "Olimpiade Modern pertama di Athena (1896) â€“ diprakarsai oleh Baron Pierre de Coubertin sebagai sarana perdamaian dunia.",
            "FIFA didirikan (1904), FIBA (1932), FINA (1908) untuk mengatur cabang olahraga internasional."
          ],
          "Indonesia": [
            "PON I di Solo (1948) â€“ wujud persatuan bangsa pasca-kemerdekaan.",
            "Indonesia pertama kali ikut Olimpiade di Helsinki (1952).",
            "Indonesia menjadi tuan rumah Asian Games ke-18 (2018) dan sukses meraih peringkat ke-4."
          ]
        },
        jenis: {
          "Berdasarkan Tujuan": ["Prestasi", "Rekreasi", "Pendidikan", "Kesehatan"],
          "Berdasarkan Jumlah Pemain": ["Individu (atletik, renang)", "Beregu (sepak bola, voli, basket)"]
        },
        teknik: {
          "RENANG": {
            "Gaya Bebas (Crawl)": [
              "Gerakan lengan: tarik, dorong, recovery",
              "Gerakan kaki: flutter kick (naik-turun cepat)",
              "Pernapasan: miring ke samping saat lengan keluar air"
            ],
            "Gaya Dada": [
              "Gerakan lengan: tarik ke luar, lalu dorong ke depan",
              "Gerakan kaki: menekuk lutut, lalu tendang keluar-dalam (frog kick)",
              "Pernapasan: angkat kepala saat lengan menarik ke luar"
            ],
            "Gaya Punggung": [
              "Gerakan lengan: seperti gaya bebas, tapi di atas air",
              "Gerakan kaki: flutter kick sambil telentang",
              "Pernapasan: bebas karena wajah selalu di atas air"
            ],
            "Gaya Kupu-kupu": [
              "Gerakan lengan: kedua lengan bersamaan menarik melingkar",
              "Gerakan kaki: dolphin kick (gerakan gelombang dari pinggang)",
              "Pernapasan: angkat kepala saat lengan keluar air"
            ]
          },
          "BASKET": {
            "Dribbling (Menggiring)": "Mengontrol bola dengan satu tangan sambil bergerak; rendah saat dijaga ketat.",
            "Passing (Mengoper)": [
              "Chest pass (operan dada)",
              "Bounce pass (operan pantul)",
              "Overhead pass (operan atas)"
            ],
            "Shooting (Menembak)": [
              "Lay-up: tembakan dekat ring dengan lompatan",
              "Jump shoot: tembakan sambil melompat",
              "Free throw: tembakan hukuman dari garis bebas"
            ],
            "Defense (Bertahan)": "Menjaga lawan dengan posisi rendah, tangan aktif, dan kaki siap bergerak."
          },
          "VOLI": {
            "Servis": [
              "Servis bawah: pukulan dari bawah pinggang (untuk pemula)",
              "Servis atas: pukulan setelah bola dilambungkan (float serve, topspin)"
            ],
            "Passing (Umpan)": "Menggunakan kedua lengan bawah untuk menerima servis atau bola keras.",
            "Setter (Pengumpan)": "Menggunakan jari tangan untuk mengumpan bola ke spiker.",
            "Spike (Smash)": "Pukulan keras ke area lawan setelah melompat.",
            "Block (Blok)": "Membendung serangan lawan di dekat net dengan kedua tangan diangkat."
          },
          "SEPAK BOLA": {
            "Menggiring (Dribbling)": "Mengontrol bola dengan kaki bagian dalam/luar sambil bergerak.",
            "Mengoper (Passing)": [
              "Short pass: umpan pendek akurat",
              "Long pass: umpan jarak jauh",
              "Through pass: umpan tembus antar pemain lawan"
            ],
            "Menembak (Shooting)": [
              "Instep drive: tembakan keras dengan punggung kaki",
              "Chip shot: tembakan melambung di atas kiper",
              "Volley: tembakan sebelum bola menyentuh tanah"
            ],
            "Menghentikan Bola (Stopping)": "Menggunakan telapak kaki, paha, dada, atau kepala untuk mengontrol bola.",
            "Tackling": "Merebut bola dari lawan secara sportif tanpa melanggar."
          }
        },
        manfaat: {
          "Fisik": ["Meningkatkan kardiovaskular", "Memperkuat otot & tulang", "Meningkatkan fleksibilitas", "Mengontrol berat badan"],
          "Mental": ["Mengurangi stres", "Meningkatkan fokus", "Membangun kepercayaan diri"],
          "Sosial": ["Melatih kerja sama", "Menghargai perbedaan", "Menanamkan sportivitas"]
        },
        prestasiIndonesia: {
          "Bulutangkis": [
            "Medali emas Olimpiade: Susi Susanti & Alan Budikusuma (1992), Taufik Hidayat (2004), Greysia/Apriyani (2021)."
          ],
          "Pencak Silat": [
            "14 emas Asian Games 2018 (tuan rumah)."
          ],
          "Lainnya": [
            "Timnas U-16 juara Piala AFF 2022.",
            "Lalu Muhammad Zohri â€“ juara lari 100m Asian Games 2018."
          ]
        }
      },
      sejarah: {
        keywords: [
          'sejarah', 'pengertian sejarah', 'konsep ruang dan waktu sejarah',
          'berpikir kronologis', 'perubahan dan keberlanjutan sejarah',
          'perkembangan bumi', 'makhluk hidup', 'hindu-budha',
          'kerajaan hindu budha', 'masuknya hindu budha',
          'bukti pengaruh hindu budha'
        ],
        pengertianSejarah: "Sejarah adalah ilmu yang mempelajari peristiwa masa lalu yang terjadi pada manusia, disusun secara ilmiah berdasarkan fakta dan interpretasi objektif.",
        peranPentingSejarah: [
          "Menjadi cermin untuk memahami masa kini",
          "Membentuk identitas nasional",
          "Mengembangkan kemampuan berpikir kritis",
          "Menginspirasi generasi mendatang"
        ],
        konsepRuangDanWaktu: {
          pengertian: "Sejarah selalu terjadi pada ruang (lokasi geografis) dan waktu (masa tertentu). Tanpa keduanya, peristiwa tidak bisa dikontekstualisasi.",
          contoh: "Kerajaan Majapahit berada di Jawa Timur (ruang) pada abad ke-13 hingga ke-15 (waktu)."
        },
        berpikirKronologis: {
          pengertian: "Cara berpikir sejarah yang menempatkan peristiwa secara berurutan menurut waktu terjadinya.",
          manfaat: "Membantu memahami sebab-akibat, menelusuri perubahan, dan menghindari penafsiran yang keliru.",
          contoh: "Urutan: Kedatangan Hindu-Budha â†’ Kerajaan Kutai â†’ Kerajaan Tarumanegara â†’ Kerajaan Sriwijaya â†’ Kerajaan Majapahit."
        },
        perubahanDanBerkelanjutan: {
          pengertian: "Sejarah tidak hanya tentang perubahan, tetapi juga hal-hal yang tetap bertahan dari masa ke masa.",
          contohPerubahan: "Sistem pemerintahan dari kerajaan ke republik.",
          contohKontinuitas: "Tradisi upacara adat, nilai gotong royong, sistem irigasi subak di Bali."
        },
        perkembanganBumiDanMakhlukHidup: {
          zamanGeologi: [
            "Arkaikum: bumi terbentuk, belum ada kehidupan",
            "Paleozoikum: muncul kehidupan sederhana (amfibi, ikan)",
            "Mesozoikum: zaman dinosaurus, muncul tumbuhan berbunga",
            "Neozoikum (Kuarter): muncul manusia purba dan peradaban"
          ]
        },
        sejarahHinduBudha: "Periode sejarah Nusantara antara abad ke-1 hingga ke-15 M, ditandai dengan pengaruh peradaban India melalui perdagangan dan penyebaran agama Hindu serta Budha.",
        teoriMasuknyaHinduBudha: {
          "Teori Brahmana": "Dibawa oleh kaum Brahmana yang diundang oleh raja lokal untuk upacara.",
          "Teori Ksatria": "Dibawa oleh prajurit atau bangsawan India yang menaklukkan wilayah Nusantara.",
          "Teori Waisya": "Dibawa oleh pedagang India melalui jalur perdagangan.",
          "Teori Sudra": "Dibawa oleh rakyat jelata India yang ikut dalam kapal perdagangan dan menetap."
        },
        kerajaanHinduBudha: {
          hindu: [
            "Kutai (Kalimantan Timur, abad ke-4)",
            "Tarumanegara (Jawa Barat, abad ke-5)",
            "Mataram Kuno (Jawa Tengah, abad ke-8â€“10)",
            "Majapahit (Jawa Timur, abad ke-13â€“15)"
          ],
          budha: [
            "Sriwijaya (Sumatra, abad ke-7â€“13) â€“ pusat ajaran Budha Mahayana",
            "Singhasari (Jawa Timur, abad ke-13)"
          ]
        },
        akhirKerajaanHinduBudha: "Berkahir sekitar abad ke-15â€“16 M seiring masuknya agama Islam yang dibawa pedagang Gujarat, Persia, dan Arab, serta kejatuhan Majapahit akibat perang saudara (Perang Paregreg).",
        buktiPengaruhHinduBudhaSaatIni: [
          "Candi Borobudur (Budha) dan Prambanan (Hindu)",
          "Struktur bahasa: kata 'raja', 'negara', 'bumi', 'dewa'",
          "Tradisi: upacara Nyepi, Galungan, upacara adat Jawa",
          "Kesenian: wayang kulit (Mahabharata, Ramayana), tari Kecak",
          "Nama tempat: Surabaya (Sura = ikan hiu, Baya = buaya), Medan (dari kata 'medini' = bumi)"
        ]
      },
      modelMatematika: {
        keywords: ['model matematika', 'pemodelan matematika', 'matematika terapan'],
        pengertian: "Model matematika adalah representasi suatu masalah dunia nyata dalam bentuk persamaan, fungsi, atau sistem persamaan matematika untuk memudahkan analisis dan prediksi.",
        langkah: [
          "Identifikasi variabel dan parameter yang relevan",
          "Menyusun hubungan matematis antar variabel",
          "Menyelesaikan model (analitis atau numerik)",
          "Menginterpretasi hasil dalam konteks masalah asli"
        ],
        contoh: "Misalnya: Sebuah toko menjual pensil (x) dan penghapus (y). Total pendapatan Rp50.000. Jika harga pensil Rp2.000 dan penghapus Rp1.000, maka modelnya: 2000x + 1000y = 50000."
      },
      SPLDV: {
        keywords: ['spldv', 'sistem persamaan linear dua variabel', 'persamaan linear 2 variabel'],
        pengertian: "SPLDV adalah sistem dua persamaan linear dengan dua variabel (misal x dan y) yang memiliki satu, tak hingga, atau tidak ada solusi.",
        bentukUmum: "aâ‚x + bâ‚y = câ‚\naâ‚‚x + bâ‚‚y = câ‚‚",
        metodePenyelesaian: ["Metode grafik", "Metode substitusi", "Metode eliminasi", "Metode gabungan"],
        contohPenyelesaian: "2x + y = 7 dan x â€“ y = 2 â†’ dengan substitusi: x=3, y=1.",
        syaratSolusi: {
          "Tepat satu solusi": "Garis berpotongan (koefisien tidak sebanding)",
          "Tak hingga solusi": "Garis berimpit (persamaan ekuivalen)",
          "Tidak ada solusi": "Garis sejajar (koefisien x dan y sebanding, tapi konstanta tidak)"
        }
      },
      SPLTV: {
        keywords: ['spltv', 'sistem persamaan linear tiga variabel', 'persamaan linear 3 variabel'],
        pengertian: "SPLTV adalah sistem tiga persamaan linear dengan tiga variabel (misal x, y, z) yang umumnya memiliki satu solusi unik.",
        bentukUmum: "aâ‚x + bâ‚y + câ‚z = dâ‚\naâ‚‚x + bâ‚‚y + câ‚‚z = dâ‚‚\naâ‚ƒx + bâ‚ƒy + câ‚ƒz = dâ‚ƒ",
        metodePenyelesaian: ["Substitusi bertahap", "Eliminasi bertahap", "Matriks (Cramer, Gauss)"],
        contoh: "x + y + z = 6\n2x â€“ y + z = 3\nx + 2y â€“ z = 2 â†’ solusi: x=1, y=2, z=3."
      },
      SPLSV: {
        keywords: ['splsv', 'sistem persamaan linear satu variabel', 'persamaan linear 1 variabel'],
        pengertian: "SPLSV sebenarnya bukan 'sistem', melainkan persamaan linear satu variabel (PLSV), yaitu persamaan berbentuk ax + b = 0 (a â‰  0).",
        bentukUmum: "ax + b = 0",
        penyelesaian: "x = â€“b/a",
        contoh: "3x â€“ 6 = 0 â†’ x = 2.",
        catatan: "Meski disebut 'sistem', secara teknis sistem memerlukan minimal dua persamaan. PLSV diselesaikan secara langsung tanpa metode eliminasi/substitusi."
      },

      // ============== DATA BARU YANG DIMINTA ==============
      pendomanNegaraku: {
        keywords: ['pendoman negaraku', 'pedoman hidup berbangsa', 'dasar negara', 'pedoman pancasila'],
        pengertian: "Pedoman negaraku adalah Pancasila, yang menjadi dasar falsafah dan pedoman dalam kehidupan berbangsa dan bernegara di Indonesia.",
        nilai: [
          "Ketuhanan Yang Maha Esa â€” menghormati semua agama",
          "Kemanusiaan yang Adil dan Beradab â€” menjunjung tinggi HAM",
          "Persatuan Indonesia â€” menempatkan kepentingan bangsa di atas kelompok",
          "Kerakyatan yang Dipimpin oleh Hikmat Kebijaksanaan â€” musyawarah",
          "Keadilan Sosial bagi Seluruh Rakyat Indonesia â€” keadilan ekonomi & sosial"
        ],
        penerapan: "Di lingkungan keluarga, sekolah, masyarakat: gotong royong, toleransi, musyawarah, disiplin."
      },
      prosesPerumusanUUD1945: {
        keywords: ['proses perumusan uud 1945', 'bpupki', 'ppki', 'pengesahan uud 1945', 'sejarah uud 1945'],
        pengertian: "Proses perumusan dan pengesahan UUD 1945 dilakukan oleh BPUPKI dan PPKI menjelang kemerdekaan Indonesia.",
        tahapan: {
          "BPUPKI (29 Mei â€“ 1 Juni 1945)": "Rapat pertama membahas dasar negara; Soekarno menyampaikan Pancasila.",
          "Panitia Sembilan": "Menyusun Piagam Jakarta (22 Juni 1945) sebagai cikal bakal pembukaan UUD.",
          "PPKI (18 Agustus 1945)": "Mengesahkan UUD 1945 sehari setelah proklamasi kemerdekaan."
        },
        tokohPenting: ["Ir. Soekarno", "Moh. Hatta", "Soepomo", "Ki Hajar Dewantara", "Wahid Hasyim"],
        perubahanPenting: "Kata 'dengan kewajiban menjalankan syariat Islam bagi pemeluk-pemeluknya' diubah menjadi 'Ketuhanan Yang Maha Esa' untuk menjaga persatuan."
      },
      fungsiDanKedudukanUUD1945: {
        keywords: ['fungsi uud 1945', 'kedudukan uud 1945', 'konstitusi tertinggi'],
        pengertian: "UUD 1945 adalah konstitusi tertinggi di Indonesia dan berfungsi sebagai dasar hukum negara.",
        fungsi: [
          "Sebagai dasar hukum negara",
          "Sebagai pedoman penyelenggaraan pemerintahan",
          "Sebagai alat kontrol terhadap kekuasaan negara",
          "Sebagai sumber dari segala sumber hukum"
        ],
        kedudukan: "UUD 1945 berada di puncak hierarki peraturan perundang-undangan (Pasal 7 ayat 1 UU No. 12 Tahun 2011)."
      },
      beraniMenjalankanUUD: {
        keywords: ['berani menjalankan uud', 'implementasi uud di lingkungan', 'uud di masyarakat'],
        pengertian: "Berani menjalankan UUD 1945 berarti menerapkan nilai-nilai konstitusi dalam kehidupan sehari-hari.",
        contoh: [
          "Di rumah: menghargai anggota keluarga tanpa diskriminasi (Sila 2 & 3)",
          "Di sekolah: musyawarah memilih ketua kelas (Sila 4)",
          "Di lingkungan: menjaga kebersihan bersama, gotong royong (Sila 5)",
          "Di masyarakat: melapor jika ada pelanggaran hukum (Pasal 27 & 28)"
        ]
      },
      peraturanDiNegaraku: {
        keywords: ['peraturan di negaraku', 'aturan hukum indonesia', 'sistem hukum indonesia'],
        pengertian: "Peraturan di negaraku adalah aturan hukum yang mengatur kehidupan warga negara Indonesia, mulai dari tingkat pusat hingga daerah.",
        jenis: ["Undang-Undang", "Peraturan Pemerintah", "Peraturan Presiden", "Perda", "Perkada"],
        prinsip: "Menciptakan ketertiban, keadilan, kepastian hukum, dan perlindungan HAM."
      },
      peraturanDirumah: {
        keywords: ['peraturan dirumah', 'aturan keluarga', 'disiplin rumah'],
        contoh: [
          "Bangun pagi dan merapikan tempat tidur",
          "Membantu orang tua",
          "Menyimpan mainan setelah bermain",
          "Menghormati anggota keluarga"
        ],
        tujuan: "Membentuk karakter disiplin, tanggung jawab, dan rasa hormat sejak dini."
      },
      peraturanSekolah: {
        keywords: ['peraturan sekolah', 'tata tertib sekolah', 'disiplin siswa'],
        contoh: [
          "Datang tepat waktu",
          "Mengenakan seragam rapi",
          "Tidak berkelahi",
          "Mengikuti upacara dengan khidmat"
        ],
        tujuan: "Menciptakan lingkungan belajar yang aman, tertib, dan kondusif."
      },
      peraturanLingkunganDanNegara: {
        keywords: ['peraturan lingkungan', 'peraturan RT', 'peraturan daerah'],
        lingkungan: [
          "Tidak membuang sampah sembarangan",
          "Mengikuti ronda malam",
          "Menjaga ketertiban saat arisan warga"
        ],
        negara: [
          "Membayar pajak",
          "Mematuhi UU Lalu Lintas",
          "Tidak menyebarkan hoaks"
        ],
        hubungan: "Peraturan lingkungan harus selaras dengan peraturan negara."
      },
      tataUrutanPerundangUndangan: {
        keywords: ['tata urutan perundang undangan', 'hirarki peraturan', 'uu no 12 tahun 2011'],
        pengertian: "Tata urutan perundang-undangan adalah hierarki kekuatan hukum dari berbagai jenis peraturan di Indonesia sesuai UU No. 12 Tahun 2011.",
        jenis: [
          "1. Undang-Undang Dasar Negara Republik Indonesia Tahun 1945",
          "2. Ketetapan MPR",
          "3. Undang-Undang/Peraturan Pemerintah Pengganti Undang-Undang",
          "4. Peraturan Pemerintah",
          "5. Peraturan Presiden",
          "6. Peraturan Daerah Provinsi",
          "7. Peraturan Daerah Kabupaten/Kota"
        ],
        prinsip: "Peraturan di bawah tidak boleh bertentangan dengan peraturan di atasnya."
      },
      implementasiPeraturan: {
        keywords: ['implementasi peraturan perundang undangan', 'penerapan hukum'],
        pengertian: "Implementasi adalah proses penerapan peraturan perundang-undangan dalam kehidupan nyata.",
        tantangan: [
          "Kurangnya sosialisasi",
          "Korupsi aparat penegak hukum",
          "Ketidaktahuan masyarakat"
        ],
        solusi: [
          "Edukasi hukum sejak dini",
          "Transparansi penegakan hukum",
          "Partisipasi aktif warga"
        ]
      },
      komitmenTataUrutan: {
        keywords: ['komitmen tata urutan peraturan', 'kesadaran hukum', 'warga negara sadar hukum'],
        pengertian: "Komitmen adalah kesediaan warga negara untuk mematuhi dan menegakkan hierarki peraturan.",
        bentuk: [
          "Mengikuti pelatihan UU",
          "Melaporkan pelanggaran",
          "Menggunakan saluran hukum yang sah"
        ],
        pentingnya: "Menjaga keadilan, stabilitas, dan kepastian hukum nasional."
      },
      kemerdekaanBerpendapat: {
        keywords: ['kemerdekaan berpendapat', 'pasal 28e uud 1945', 'hak asasi berpendapat'],
        pengertian: "Hak setiap warga negara untuk menyampaikan pikiran secara lisan, tulisan, atau media lainnya.",
        dasarHukum: "Pasal 28E ayat (3) UUD 1945: Setiap orang berhak atas kebebasan berserikat, berkumpul, dan mengeluarkan pendapat.",
        batasan: "Tidak boleh menghina, memfitnah, atau mengancam ketertiban umum.",
        contohSehat: [
          "Diskusi di kelas",
          "Surat pembaca di koran",
          "Demonstrasi damai"
        ]
      },
      persamaanKuadrat: {
        keywords: ['persamaan kuadrat', 'rumus abc', 'akar persamaan kuadrat', 'diskriminan'],
        pengertian: "Persamaan kuadrat adalah persamaan berbentuk axÂ² + bx + c = 0, dengan a â‰  0.",
        penyelesaian: {
          "Pemfaktoran": "Jika mudah difaktorkan, misal xÂ² â€“ 5x + 6 = (xâ€“2)(xâ€“3) = 0 â†’ x=2 atau x=3.",
          "Melengkapkan Kuadrat": "Ubah ke bentuk (x + p)Â² = q.",
          "Rumus ABC": "x = [â€“b Â± âˆš(bÂ² â€“ 4ac)] / (2a)"
        },
        diskriminan: "D = bÂ² â€“ 4ac â†’ menentukan jenis akar: D>0 (2 real), D=0 (kembar), D<0 (imajiner)."
      },
      kesebangunan: {
        keywords: ['kesebangunan', 'bangun sebangun', 'perbandingan sisi'],
        pengertian: "Dua bangun dikatakan sebangun jika sudut-sudutnya sama dan sisi-sisinya sebanding.",
        syarat: [
          "Sudut-sudut bersesuaian sama besar",
          "Perbandingan sisi-sisi bersesuaian sama"
        ],
        contohPenyelesaian: "Dua segitiga ABC dan DEF sebangun. Jika AB=4, DE=8, BC=5 â†’ EF = (8/4)Ã—5 = 10."
      },
      teoremaPythagoras: {
        keywords: ['teorema pythagoras', 'aÂ²+bÂ²=cÂ²', 'segitiga siku-siku'],
        pengertian: "Pada segitiga siku-siku, kuadrat sisi miring (hipotenusa) sama dengan jumlah kuadrat dua sisi lainnya.",
        rumus: "aÂ² + bÂ² = cÂ² (c = sisi miring)",
        penerapan: [
          "Menghitung jarak",
          "Menentukan apakah segitiga siku-siku",
          "Desain arsitektur"
        ],
        contoh: "Segitiga sisi 3, 4 â†’ sisi miring = âˆš(3Â²+4Â²) = âˆš25 = 5."
      },
      pemanfaatanSDA: {
        keywords: ['pemanfaatan sumber daya alam', 'sda', 'sumber daya alam'],
        pengertian: "Pemanfaatan SDA adalah penggunaan kekayaan alam untuk memenuhi kebutuhan manusia.",
        prinsipBijak: [
          "Lestarikan lingkungan",
          "Gunakan teknologi ramah lingkungan",
          "Hindari eksploitasi berlebihan"
        ],
        contohIndonesia: [
          "Minyak bumi untuk bahan bakar",
          "Hutan untuk kayu & ekowisata",
          "Laut untuk perikanan & garam"
        ]
      },
      literasi: {
        keywords: ['literasi', 'literasi dasar', 'literasi digital', 'literasi finansial'],
        pengertian: "Literasi adalah kemampuan mengakses, memahami, mengevaluasi, dan menggunakan informasi secara kritis.",
        jenis: [
          "Literasi baca-tulis",
          "Literasi numerasi",
          "Literasi digital",
          "Literasi finansial",
          "Literasi budaya & kewargaan"
        ],
        pentingnya: "Membentuk masyarakat yang kritis, produktif, dan adaptif di era informasi."
      },
      teoriMasuknyaIslam: {
        keywords: ['teori masuknya islam ke indonesia', 'pedagang gujarat', 'wali songo', 'akulturasi islam'],
        pengertian: "Islam masuk ke Nusantara sekitar abad ke-7â€“13 M melalui berbagai jalur damai.",
        teori: {
          "Teori Gujarat (India)": "Dibawa pedagang Gujarat abad ke-13 (berdasarkan batu nisan di Leran, Gresik).",
          "Teori Persia": "Kemiripan budaya (Nowruz â†’ Tabut, nama bulan).",
          "Teori Arab": "Kontak langsung dengan pedagang Arab sejak abad ke-7.",
          "Teori Cina": "Dakwah melalui jalur perdagangan Cinaâ€“Arab."
        },
        penyebaran: "Dilakukan oleh Wali Songo melalui pendekatan budaya (wayang, tembang, pesantren).",
        bukti: [
          "Makam Fatimah binti Maimun (1082 M) di Gresik",
          "Kerajaan Samudra Pasai (1267) â€” kerajaan Islam pertama"
        ]
      },
      berpikirKomputasional: {
        keywords: ['berpikir komputasional', 'computational thinking', 'dekomposisi', 'algoritma'],
        pengertian: "Berpikir komputasional adalah cara menyelesaikan masalah seperti cara komputer: logis, terstruktur, dan efisien.",
        komponen: ["Dekomposisi", "Pengenalan Pola", "Abstraksi", "Algoritma"]
      },
      dekomposisi: {
        keywords: ['dekomposisi', 'memecah masalah'],
        pengertian: "Dekomposisi adalah memecah masalah kompleks menjadi bagian-bagian kecil yang lebih mudah diatasi.",
        contoh: "Membuat website â†’ pecah jadi: desain, konten, database, keamanan."
      },
      pengenalanPola: {
        keywords: ['pengenalan pola', 'pattern recognition'],
        pengertian: "Mengidentifikasi kesamaan, tren, atau keteraturan dalam data atau masalah.",
        contoh: "Dalam matematika: 2, 4, 6, 8 â†’ pola +2. Dalam coding: pengulangan fungsi."
      },
      algoritma: {
        keywords: ['algoritma', 'langkah sistematis', 'pseudocode'],
        pengertian: "Algoritma adalah serangkaian langkah logis dan berurutan untuk menyelesaikan suatu masalah.",
        contoh: "Resep masak, petunjuk jalan, flowchart program.",
        ciri: "Jelas, terbatas, efektif, dan menghasilkan output."
      }
    };

    // === FUNGSI UTILITAS (TIDAK BERUBAH) ===
    function buildKeywordIndex(kb) {
      const index = [];
      for (const key of Object.keys(kb)) {
        const section = kb[key];
        if (section && section.keywords && Array.isArray(section.keywords)) {
          for (const kw of section.keywords) {
            index.push({ keyword: kw.toLowerCase(), key });
          }
        } else {
          index.push({ keyword: key.toLowerCase(), key });
        }
      }
      return index;
    }
    const keywordIndex = buildKeywordIndex(knowledgeBase);
    function formatSection(title, section) {
      if (!section) return `${title}: (tidak ada data)`;
      if (typeof section === 'string') return `${title}:\n${section}`;
      if (Array.isArray(section)) return `${title}:\n- ${section.join('\n- ')}`;
      let out = `${title}:\n`;
      for (const prop of Object.keys(section)) {
        const val = section[prop];
        if (typeof val === 'string') {
          out += `  ${prop}: ${val}\n`;
        } else if (Array.isArray(val)) {
          out += `  ${prop}:\n    - ${val.join('\n    - ')}\n`;
        } else if (typeof val === 'object') {
          out += `  ${prop}:\n`;
          for (const sub of Object.keys(val)) {
            const v = val[sub];
            if (typeof v === 'string') {
              out += `    ${sub}: ${v}\n`;
            } else if (Array.isArray(v)) {
              out += `    ${sub}:\n      - ${v.join('\n      - ')}\n`;
            } else if (typeof v === 'object') {
              out += `    ${sub}:\n`;
              for (const item of Object.keys(v)) {
                const details = v[item];
                if (Array.isArray(details)) {
                  out += `      ${item}:\n        - ${details.join('\n        - ')}\n`;
                } else {
                  out += `      ${item}: ${details}\n`;
                }
              }
            } else {
              out += `    ${sub}: ${v}\n`;
            }
          }
        } else {
          out += `  ${prop}: ${String(val)}\n`;
        }
      }
      return out;
    }
    function searchKnowledge(query) {
      const q = query.toLowerCase().trim();
      if (!q) return { type: 'error', text: "Masukkan pertanyaan atau kata kunci terlebih dahulu." };
      const matches = new Map();
      for (const entry of keywordIndex) {
        if (q.includes(entry.keyword)) {
          matches.set(entry.key, knowledgeBase[entry.key]);
        }
      }
      if (matches.size === 0) {
        if (knowledgeBase[q]) {
          matches.set(q, knowledgeBase[q]);
        }
      }
      if (matches.size === 0) {
        const words = q.split(/\s+/);
        for (const w of words) {
          for (const entry of keywordIndex) {
            if (entry.keyword === w) matches.set(entry.key, knowledgeBase[entry.key]);
          }
        }
      }
      if (matches.size === 0) {
        if (q.includes('gambar') || q.includes('image') || q.includes('foto')) {
          return { type: 'imageOnly', text: "Minta gambar. Klik tombol + untuk menghasilkan gambar sederhana." };
        }
        return { type: 'notfound', text: "Maaf, saya tidak menemukan topik yang cocok. Coba gunakan kata kunci seperti 'teks observasi', 'olahraga', 'UUD 1945', 'SPLDV', 'sejarah hindu-budha'." };
      }
      let resultText = "";
      for (const [key, section] of matches) {
        resultText += formatSection(key.toUpperCase(), section) + "\n";
      }
      return { type: 'ok', text: resultText.trim() };
    }

    // === BINDING UI (TIDAK BERUBAH) ===
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');
    const responseDiv = document.getElementById('response');
    const imageContainer = document.getElementById('imageContainer');
    const generatedImage = document.getElementById('generatedImage');
    const imageDescription = document.getElementById('imageDescription');
    const generateBtn = document.getElementById('generateBtn');
    const techBtn = document.getElementById('techBtn');
    const announceBtn = document.getElementById('announceBtn');
    function showResponse(text) {
      responseDiv.style.display = 'block';
      responseDiv.textContent = text;
    }
    function hideResponse() {
      responseDiv.style.display = 'none';
      responseDiv.textContent = '';
    }
    function showImage(dataUrl, desc) {
      imageContainer.style.display = 'flex';
      generatedImage.src = dataUrl;
      imageDescription.textContent = desc || '';
    }
    function hideImage() {
      imageContainer.style.display = 'none';
      generatedImage.src = '';
      imageDescription.textContent = '';
    }
    sendBtn.addEventListener('click', () => {
      hideImage();
      const q = userInput.value || '';
      const result = searchKnowledge(q);
      showResponse(result.text);
    });
    userInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        sendBtn.click();
      }
    });
    generateBtn.addEventListener('click', () => {
      const q = (userInput.value || 'Atlas Nusantara AI').trim();
      const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700">
        <defs>
          <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#60A5FA"/>
            <stop offset="1" stop-color="#EC4899"/>
          </linearGradient>
        </defs>
        <rect width="100%" height="100%" fill="url(#g1)"/>
        <g transform="translate(60,120)" font-family="Segoe UI, Roboto, Arial">
          <rect x="0" y="0" rx="20" ry="20" width="1080" height="460" fill="rgba(255,255,255,0.12)"/>
          <text x="40" y="70" font-size="64" font-weight="700" fill="white">Atlas Nusantara AI</text>
          <text x="40" y="150" font-size="34" fill="white">Hasil visual untuk:</text>
          <foreignObject x="40" y="170" width="980" height="240">
            <div xmlns="http://www.w3.org/1999/xhtml" style="font-family:Segoe UI, Arial; color:white; font-size:26px; line-height:1.3; padding:10px;">
              ${escapeHtml(q).replace(/\n/g,'<br/>')}
            </div>
          </foreignObject>
        </g>
      </svg>`;
      const svgBlob = new Blob([svg], {type: 'image/svg+xml;charset=utf-8'});
      const url = URL.createObjectURL(svgBlob);
      showImage(url, `Gambar sederhana untuk: "${q}" â€” (SVG dihasilkan lokal)`);
      showResponse(`Menghasilkan gambar sederhana untuk: "${q}". Deskripsi singkat:\nGambar ini menampilkan judul Atlas Nusantara AI dengan teks permintaanmu.`);
    });
    techBtn.addEventListener('click', () => {
      userInput.value = 'teknologi';
      sendBtn.click();
    });
    announceBtn.addEventListener('click', () => {
      hideImage();
      showResponse("Anda bisa menanyakan topik sejarah seperti:\n- 'pengertian sejarah'\n- 'konsep ruang dan waktu sejarah'\n- 'teori masuknya hindu-budha'\n- 'bukti pengaruh hindu-budha saat ini'\n- 'perkembangan bumi dan makhluk hidup'");
    });
    function escapeHtml(unsafe) {
      return unsafe.replace(/[&<"'>]/g, function(m) {
        return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]);
      });
    }
    showResponse("Halo! Tanyakan sesuatu, mis. 'teks observasi', 'teknik basket', 'UUD 1945', 'SPLDV', 'sejarah hindu-budha', atau klik ğŸ“£ untuk daftar topik sejarah.");
    window.addEventListener('unload', () => {
      try {
        if (generatedImage && generatedImage.src.startsWith('blob:')) URL.revokeObjectURL(generatedImage.src);
      } catch(e){}
    });
  </script>
</body>
</html>